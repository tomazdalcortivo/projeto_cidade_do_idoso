<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Ca√ßa-Palavras</title>
    <link rel="stylesheet" href="../css/style.css"> 
    <style>
        #grid {
            display: grid;
            grid-template-columns: repeat(6, 60px);
            grid-gap: 5px;
            justify-content: center;
            margin: 20px auto
        }

        .cell {
            width: 60px;
            height: 60px;
            background: #ddd;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 8px
        }

        .selected {
            background: #6C63FF;
            color: white
        }

        .found {
            background: #4CAF50;
            color: white
        }
    </style>
</head>

<body>
    <h1>Ca√ßa-Palavras</h1>
    <p style="font-size:24px;">Encontre: casa, amor, vida, lago, paz</p>
    
    <div id="grid"></div>
    
    <p id="status" style="font-size:28px; font-weight: bold; min-height: 30px;"></p><br>
    
    <button onclick="location.href='menu.html'">Voltar</button>
    
    <script>
        const words = ['casa', 'amor', 'vida', 'lago', 'paz'];
        const letters = [
            ['C', 'A', 'S', 'A', 'X', 'O'],
            ['B', 'A', 'M', 'O', 'R', 'Q'],
            ['V', 'I', 'D', 'A', 'L', 'M'],
            ['P', 'A', 'Z', 'T', 'E', 'F'],
            ['L', 'A', 'G', 'O', 'Z', 'U'],
            ['Q', 'A', 'U', 'S', 'J', 'K']
        ];


        const grid = document.getElementById('grid');
        const statusDisplay = document.getElementById('status');
        let selectedCells = [];

        let foundWords = []; 

        letters.forEach((row, i) => {
            row.forEach((letter, j) => {
                const div = document.createElement('div');
                div.className = 'cell';
                div.textContent = letter;
                div.dataset.pos = i + '-' + j; 
                
                div.addEventListener('click', () => {
                    if (div.classList.contains('found')) return;

                    if (div.classList.contains('selected')) {
                        div.classList.remove('selected');
                        selectedCells = selectedCells.filter(c => c !== div);
                    } else {
                        div.classList.add('selected');
                        selectedCells.push(div);
                    } 
                    
                    checkWord();
                });
                grid.appendChild(div);
            });
        });

        function checkWord() {
            const currentWord = selectedCells.map(c => c.textContent).join('').toLowerCase();
            
            if (words.includes(currentWord)) {
                
                if (foundWords.includes(currentWord)) {
                    selectedCells.forEach(c => c.classList.remove('selected'));
                    selectedCells = [];
                    statusDisplay.textContent = `A palavra "${currentWord.toUpperCase()}" j√° foi encontrada.`;
                    return; 
                }
                selectedCells.forEach(c => {
                    c.classList.add('found');
                    c.classList.remove('selected');
                });
                
                foundWords.push(currentWord); 

                selectedCells = [];
                statusDisplay.textContent = `Parab√©ns! Voc√™ encontrou: ${currentWord.toUpperCase()}`;
                
                if (foundWords.length === words.length) { 
                    statusDisplay.textContent = 'üéâ Parab√©ns! Voc√™ completou todas as palavras!';
                }
            } else if (currentWord.length > 1) {
                statusDisplay.textContent = `"${currentWord.toUpperCase()}" n√£o √© uma palavra v√°lida ainda.`;
            } else {
                statusDisplay.textContent = '';
            }
        }
    </script>
</body>

</html>